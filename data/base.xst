<?xml version='1.0' encoding='utf-8' standalone='yes'?>
<xst path='/' m='{"attr":65}'>
  <i n='$YS' m='{"attr":65}'>
    <i n='TYPES' m='{"attr":65}'>
      <i n='Core' m='{"attr":65}' ver="0.4.1712.06015">
        <i n='Boolean' s='{"default":false,"manifest":{"attr":4},"willful":true}' m='{"attr":69}' />
        <i n='ByteArray' s='{"default":"¤BA","manifest":{"attr":4},"willful":true}' m='{"attr":69}' />
        <i n='Date' s='{"default":"1001-01-01T12:00:00.000Z","manifest":{"attr":4},"willful":true}' m='{"attr":69}' />
        <i n='Double' s='{"default":0,"manifest":{"attr":4},"willful":true}' m='{"attr":69}' />
        <i n='Folder' s='{"icon":"","manifest":{"attr":0},"willful":true}' m='{"attr":69}' />
        <i n='Integer' s='{"default":0,"editor":"Integer","manifest":{"attr":4,"type":"Core/Integer"},"willful":true}' m='{"attr":69}' />
        <i n='Logram' s='{"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAGBJREFUOE9jKK9pIh7FJaUzAFX/Jw4AVSI0xNZlQhBQ7+YprBAEZCOLU6aBGEeh2ECyhtCsOmQE1I8WdBARhKdpr4FkP5CsoS4rDIKQdSLHGrqnSdZAmpNIS63AuCAJAQDZygmbQTNYbQAAAABJRU5ErkJggg==","manifest":{"type":"Core/Logram"},"willful":true}' m='{"attr":69}' />
        <i n='Object' s='{"default":{},"manifest":{"attr":4},"willful":true}' m='{"attr":69}' />
        <i n='String' s='{"default":"","manifest":{"attr":4},"willful":true}' m='{"attr":69}' />
      </i>
      <i n='Enum' m='{"attr":65}'>
        <i n='DPlcStatus' s='[{"text":"unknown","BG":"LightGray"},{"text":"Run","BG":"MediumAquamarine"},{"text":"Stop","BG":"Tomato"}]'  m='{"attr":71}'  ver="0.4.1709.20010" />
        <i n='TwiStatus' s='[{"text":"Offline","BG":"Tomato"},{"text":"Online","BG":"MediumAquamarine"}]'  m='{"attr":71}' ver="0.4.1709.20010" />
      </i>
      <i n='Ext' m='{"attr":65}' >
        <i n='Connection' s='{"Children":{"default":{}},"Fields":{"Address":{"attr":3},"Dns":{"attr":3},"Port":{"attr":3}},"icon":"EsConnection"}' m='{"attr":69}' ver='0.4.1711.19004' />
        <i n='DevicePLC' s='{"Action":[{"name":"MQTT_SN.PLC.Build","text":"Build programm"},{"name":"MQTT_SN.PLC.Run","text":"Run"},{"name":"MQTT_SN.PLC.Start","text":"Start PLC"},{"name":"MQTT_SN.PLC.Stop","text":"Stop PLC"}],"editor":"Enum","enum":"DPlcStatus"}'  m='{"attr":69}' ver='0.4.1711.19004' />
        <i n='Manifest' s='{"mi":{"attr":{"editor":"Attribute","attr":1},"editor":{"default":"","editor":"Editor"},"MQTT":{"default":{"uri":""},"mi":{"uri":{"default":""}}},"MQTT-SN":{"attr":1,"mi":{"tag":{"attr":3},"convIn":{"default":"","editor":"JS","hint":"value converter for input"},"convOut":{"default":"","editor":"JS","hint":"value converter for output"},"suppressed":{"default":true}}},"type":{"default":""}}}' m='{"attr":69}' ver='0.4.1712.6005' />
        <i n='LBDescr' s='{"Fields":{"Children":{},"src":{"default":"","editor":"JS","manifest":{"attr":68}},"type":{"default":""}}}' m='{"attr":69}' ver='0.4.1711.20005' />
        <i n='TwiDev' s='{"Fields":{"Children":{},"src":{"default":"","editor":"JS","manifest":{"attr":68}},"type":{"default":""}}}' m='{"attr":69}' ver='0.4.1711.19004' />
      </i>
      <i n='LoBlock' m='{"attr":65}'>
        <i n='Base' m='{"attr":65}'>
          <i n='ADD' s='{"cctor":{"LoBlock":"Base/ADD"},"Children":{"A":{"default":0,"ddr":"A","manifest":{"attr":69},"rc":"X1"},"B":{"default":0,"ddr":"B","manifest":{"attr":69},"rc":"X2"},"C":{"default":0,"ddr":"C","manifest":{"attr":68},"rc":"X3"},"D":{"default":0,"ddr":"D","manifest":{"attr":68},"rc":"X4"},"E":{"default":0,"ddr":"E","manifest":{"attr":68},"rc":"X5"},"F":{"default":0,"ddr":"F","manifest":{"attr":68},"rc":"X6"},"G":{"default":0,"ddr":"G","manifest":{"attr":68},"rc":"X7"},"H":{"default":0,"ddr":"H","manifest":{"attr":68},"rc":"X8"},"Q":{"default":0,"ddr":"a","manifest":{"attr":65},"rc":"X9"}},"default":"","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABGdBTUEAAK/INwWK6QAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAANUlEQVQ4T2O48/8/SYiBJNVAxQOlgYEBp83YJWimAWgwJkALRjo7CW47yZ7GE/0DFdPUdBIAaGK1DRx76sAAAAAASUVORK5CYII=","hint":"Addition","manifest":{"attr":66,"type":"LoBlock/Base/ADD"},"namePrefix":"A","src":"class ADD{\r\n  constructor(){\r\n    this.inputs=[\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\r\n  }\r\n  Calculate(pin){\r\n    let R=0, i, v;\r\n    for(i=0; i&lt;this.inputs.length; i++){\r\n      v = this.GetState(this.inputs[i]);\r\n      if(typeof(v)==\"number\"){\r\n        R+=v;\r\n      } else if(v===true){\r\n        R++;\r\n      }\r\n    }\r\n    this.SetState(\"Q\", R);\r\n  }\r\n}","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.19016' />
          <i n='LAST' s='{"cctor":{"LoBlock":"Base/LAST"},"Children":{"A":{"default":0,"ddr":"A","manifest":{"attr":69},"rc":"X1"},"B":{"default":0,"ddr":"B","manifest":{"attr":69},"rc":"X2"},"C":{"default":0,"ddr":"C","manifest":{"attr":68},"rc":"X3"},"D":{"default":0,"ddr":"D","manifest":{"attr":68},"rc":"X4"},"E":{"default":0,"ddr":"E","manifest":{"attr":68},"rc":"X5"},"F":{"default":0,"ddr":"F","manifest":{"attr":68},"rc":"X6"},"G":{"default":0,"ddr":"G","manifest":{"attr":68},"rc":"X7"},"H":{"default":0,"ddr":"H","manifest":{"attr":68},"rc":"X8"},"Q":{"default":0,"ddr":"a","manifest":{"attr":65},"rc":"X9"}},"default":"","hint":"Last value","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAqklEQVQ4T62QwQ2DMAxFPQFjMEbEFDnCBpmBExIrcGEUb9EdmML9JlS1RIJR6bee4OD3E6A/REKFFjTH0lVEKrxAAl5JUbZ4JdIbomECd0tKUWEXH5fobXLJsCXiORCvYInEjFu7gdsdNxnHM250RbqE5w8FQg2Iu6yzDYlmDrSChZ1PyHI+OY++F36iUG/Q0z5MwJE136XaXMgau3oeR9YIhQotcOTHIXoDHv7FkqBF71cAAAAASUVORK5CYII=","manifest":{"attr":66,"type":"LoBlock/Base/LAST"},"namePrefix":"A","src":"class LAST{\r\n  constructor(){\r\n    this.inputs=[\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\r\n  }\r\n  Calculate(pin){\r\n    let i;\r\n    for(i=0; i&lt;this.inputs.length; i++){\r\n      if(pin == this.inputs[i]){\r\n        this.SetState(\"Q\", this.GetState(pin));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.19016' />
          <i n='SUB' s='{"cctor":{"LoBlock":"Base/SUB"},"Children":{"A":{"default":0,"ddr":"A","manifest":{"attr":69},"rc":"X1"},"B":{"default":0,"ddr":"B","manifest":{"attr":69},"rc":"X2"},"C":{"default":0,"ddr":"C","manifest":{"attr":68},"rc":"X3"},"D":{"default":0,"ddr":"D","manifest":{"attr":68},"rc":"X4"},"E":{"default":0,"ddr":"E","manifest":{"attr":68},"rc":"X5"},"F":{"default":0,"ddr":"F","manifest":{"attr":68},"rc":"X6"},"G":{"default":0,"ddr":"G","manifest":{"attr":68},"rc":"X7"},"H":{"default":0,"ddr":"H","manifest":{"attr":68},"rc":"X8"},"Q":{"default":0,"ddr":"a","manifest":{"attr":65},"rc":"X9"}},"default":"","hint":"Substraction","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABGdBTUEAAK/INwWK6QAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAI0lEQVQ4T2O48/8/SYiBJNVAxaMaGHAA5JAcDSVi0hXtQwkA0wjDT++sKAAAAAAASUVORK5CYII=","manifest":{"attr":66,"type":"LoBlock/Base/SUB"},"namePrefix":"A","src":"class SUB{\r\n  constructor(){\r\n    this.inputs=[\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\r\n  }\r\n  Calculate(pin){\r\n    let R=this.GetState(this.inputs[0]), i, v;\r\n    for(i=1; i&lt;this.inputs.length; i++){\r\n      v = this.GetState(this.inputs[i]);\r\n      if(typeof(v)==\"number\"){\r\n        R-=v;\r\n      } else if(v===true){\r\n        R--;\r\n      }\r\n    }\r\n    this.SetState(\"Q\", R);\r\n  }\r\n}","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.19016' />
        </i>
        <i n='Variable' m='{"attr":65}'>
          <i n='Boolean' s='{"default":false,"hint":"Boolean variable","icon":"Boolean","manifest":{"attr":4},"namePrefix":"V","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.15002' />
          <i n='ByteArray' s='{"default":"¤BA","hint":"ByteArray variable","icon":"ByteArray","manifest":{"attr":4},"namePrefix":"V","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.15002' />
          <i n='Date' s='{"default":"1001-01-01T12:00:00.000Z","hint":"DateTime variable","icon":"Date","manifest":{"attr":4},"namePrefix":"V","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.15002' />
          <i n='Double' s='{"default":0,"hint":"Double variable","icon":"Double","manifest":{"attr":4},"namePrefix":"V","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.15003' />
          <i n='Integer' s='{"default":0,"hint":"Integer variable","icon":"Integer","manifest":{"attr":4,"type":"Core/Integer"},"namePrefix":"V","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.15002' />
          <i n='String' s='{"default":"","hint":"String variable","icon":"String","manifest":{"attr":4},"namePrefix":"V","willful":true}' m='{"attr":69,"type":"Ext/LBDescr"}' ver='0.4.1712.15002' />
        </i>
      </i>
      <i n='MQTT-SN' m='{"attr":65}'>
      </i>
      <i n='TWI' s='{"Children":"/$YS/TYPES/TWI"}' m='{"attr":69}'>
        <i n='BH1750' s='{"Children":{},"default":0,"editor":"Enum","enum":"TwiStatus","manifest":{"MQTT-SN":{"tag":"---"},"type":"TWI/BH1750","TWI":{"addr":0}},"mi":{"TWI":{"attr":1,"mi":{"addr":{"attr":1,"default":1,"type":"Integer"}}}},"src":"class BH1750{\r\n  constructor(){\r\n    setTimeout(this.Tick.bind(this), 500*(1+Math.random()));\r\n  }\r\n  Read(){\r\n    var addr=this.GetField(null,\"TWI.addr\")==0?0x23:0x5C;\r\n    this.TwiReq([addr, 0x02, 0x00, 0x02])\r\n      .then(r =&gt; {\r\n        this.SetState(null,1);\r\n        this.SetState(\"I\",Math.round((r[4]*256 + r[5])/1.2));\r\n        setTimeout(this.Tick.bind(this), 60000);\r\n      },\r\n      e=&gt;{\r\n        this.SetState(null,0);\r\n        setTimeout(this.Tick.bind(this), 60000*(1+Math.random()));\r\n    });\r\n  }\r\n  Tick(){\r\n    var addr=this.GetField(null,\"TWI.addr\")==0?0x23:0x5C;\r\n    this.TwiReq([addr, 0x01, 0x01, 0x00, 0x23]);  // One time L-resolution mode\r\n    setTimeout(this.Read.bind(this), 50);  \r\n  }\r\n}\r\n"}' m='{"attr":69,"type":"Ext/TwiDev"}' ver='0.4.1711.19004' />
        <i n='BME280' s='{"Children":{},"default":0,"editor":"Enum","enum":"TwiStatus","manifest":{"MQTT-SN":{"tag":"---"},"type":"TWI/BME280","TWI":{"addr":0}},"mi":{"TWI":{"attr":1,"mi":{"addr":{"attr":1,"default":1,"type":"Integer"}}}},"src":"class BME280{\r\n  constructor(){\r\n    setTimeout(this.Read0.bind(this), 500*(1+Math.random()));\r\n  }\r\n  Read0(){\r\n    this.addr=0x76 | (this.GetField(null,\"TWI.addr\") &amp; 1);\r\n    this.TwiReq([this.addr, 0x03, 0x01, 0x1A, 0x88]).then(this.Resp0.bind(this), this.RespE.bind(this)).then(this.Resp1.bind(this));\r\n  }\r\n  Read1(){\r\n    this.TwiReq([this.addr, 0x01, 0x02, 0x00, 0xF4, 0x25]);  // forced mode\r\n    this.TwiReq([this.addr, 0x03, 0x01, 0x08, 0xF7]).then(this.Resp2.bind(this), this.RespE.bind(this));\r\n  }\r\n  Resp0(buf){\r\n    this.T1=buf[4] | (buf[5]&lt;&lt;8);\r\n    let tmp=buf[6] | (buf[7]&lt;&lt;8);\r\n    this.T2=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp=buf[8] | (buf[9]&lt;&lt;8);\r\n    this.T3=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    this.P1=buf[10] | (buf[11]&lt;&lt;8);\r\n    tmp = buf[12] | (buf[13]&lt;&lt;8);\r\n    this.P2=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp = buf[14] | (buf[15]&lt;&lt;8);\r\n    this.P3=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp = buf[16] | (buf[17]&lt;&lt;8);\r\n    this.P4=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp = buf[18] | (buf[19]&lt;&lt;8);\r\n    this.P5=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp = buf[20] | (buf[21]&lt;&lt;8);\r\n    this.P6=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp = buf[22] | (buf[23]&lt;&lt;8);\r\n    this.P7=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp = buf[24] | (buf[25]&lt;&lt;8);\r\n    this.P8=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    tmp = buf[26] | (buf[27]&lt;&lt;8);\r\n    this.P9=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    this.H1=buf[29];\r\n    return this.TwiReq([this.addr, 0x03, 0x01, 0x07, 0xE1]);\r\n  }\r\n  Resp1(buf){\r\n    let tmp=buf[4] | (buf[5]&lt;&lt;8);\r\n    this.H2=(tmp&amp;0x7FFF)-(tmp&amp;0x8000);\r\n    this.H3=buf[6];\r\n    this.H4=(buf[7] &lt;&lt; 4) | (buf[8] &amp; 0x0F);\r\n    this.H5=(buf[8] &gt;&gt; 4) | (buf[9]&lt;&lt;4);\r\n    this.H6=(buf[10]&amp;0x7F)-(buf[10]&amp;0x80);\r\n    this.TwiReq([this.addr, 0x01, 0x04, 0x00, 0xF2, 0x01, 0x00, 0x24]); // Pressure oversampling x1, Temperature oversampling x1, Humidity oversampling x1\r\n    setTimeout(this.Read1.bind(this),200);\r\n  }\r\n  Resp2(buf){\r\n    let adc_H = buf[11] | (buf[10] &lt;&lt; 8);\r\n    let adc_T = (buf[9]&gt;&gt;4) | (buf[8]&lt;&lt;4) | (buf[7]&lt;&lt;12);\r\n    let adc_P=(buf[6]&gt;&gt;4) | (buf[5]&lt;&lt;4) | (buf[4]&lt;&lt;12);\r\n    let var1, var2, t_fine;\r\n    \r\n    var1=(adc_T/16384 - this.T1/1024) * this.T2;\r\n    var2=((adc_T/131072 - this.T1/8192) * (adc_T/131072 - this.T1/8192)) * this.T3;\r\n    t_fine = Math.round(var1 + var2);\r\n    this.SetState(\"T\", Math.round((var1 + var2) / 51.2)/100);\r\n\r\n    var1 = t_fine/2 - 64000;\r\n    var2 = var1 * var1 * this.P6 / 32768;\r\n    var2 = var2 + var1 * this.P5 * 2;\r\n    var2 = var2/4 + this.P4 * 65536;\r\n    var1 = (this.P3 * var1 * var1 / 524288 + this.P2 * var1)/524288;\r\n    var1 = (1 + var1 / 32768)*this.P1;\r\n    if(var1 != 0) {\r\n      let p = 1048576.0 - adc_P;\r\n      p = (p-(var2/4096))*6250/var1;\r\n      var1 = this.P9 * p * p/2147483648;\r\n      var2 = p * this.P8/32768;\r\n      p = p + (var1 + var2 + this.P7)/16;\r\n      this.SetState(\"P\", Math.round(p*3/4)/100);\r\n    }\r\n\r\n    var1 = t_fine - 76800;\r\n    var1 = (adc_H - (this.H4 * 64 + this.H5/16384 * var1)) * (this.H2/65536 * (1 + this.H6/67108864 * var1 * (1 + this.H3/67108864 * var1)));\r\n    var1 = var1 * (1 - this.H1 * var1/524288);\r\n    if(var1 &gt; 100){\r\n      var1 = 100;\r\n    }else if(var1 &lt; 0){\r\n      var1 = 0;\r\n    }\r\n    this.SetState(\"H\", Math.round(var1*10)/10);\r\n\r\n    this.SetState(null,1);\r\n    setTimeout(this.Read1.bind(this),60000);\r\n  }\r\n  RespE(e){\r\n    this.SetState(null,0);\r\n    setTimeout(this.Read0.bind(this), 60000*(1+Math.random()));\r\n  }\r\n}\r\n"}' m='{"attr":69,"type":"Ext/TwiDev"}' ver='0.4.1711.19004' />
        <i n='HDC1080' s='{"Children":{},"default":0,"editor":"Enum","enum":"TwiStatus","manifest":{"MQTT-SN":{"tag":"---"},"type":"TWI/HDC1080"},"src":"class HDC1080{\r\n  constructor(){\r\n    setTimeout(this.Init.bind(this), 500*(1+Math.random()));\r\n  }\r\n  Init(){\r\n    this.TwiReq([0x40, 0x01, 0x03, 0x00, 0x02, 0x10, 0x00]);\r\n    setTimeout(this.Start.bind(this), 100*(2+Math.random()));\r\n  }\r\n  Start(){\r\n    this.TwiReq([0x40, 0x01, 0x01, 0x00, 0x00]);\r\n    this.TwiReq([0x40, 0x02, 0x00, 0x04]).then(this.RespT.bind(this), this.RespE.bind(this));\r\n  }\r\n  RespT(buf){\r\n    this.SetState(\"T\", Math.round((buf[5] | (buf[4] &lt;&lt; 8))*165/655.36)/100-40);\r\n    this.SetState(\"H\", Math.round((buf[7] | (buf[6] &lt;&lt; 8))/65.536)/10);\r\n    \r\n    this.SetState(null,1);\r\n    setTimeout(this.Start.bind(this),60000);\r\n  }\r\n  RespE(e){\r\n    this.SetState(null,0);\r\n    setTimeout(this.Init.bind(this), 60000*(1+Math.random()));\r\n  }\r\n}\r\n"}' m='{"attr":69,"type":"Ext/TwiDev"}' ver='0.4.1711.19004' />
        <i n='LM75' s='{"Children":{},"default":0,"editor":"Enum","enum":"TwiStatus","manifest":{"MQTT-SN":{"tag":"---"},"TWI":{"addr":4},"type":"TWI/LM75"},"mi":{"TWI":{"attr":1,"mi":{"addr":{"attr":1,"type":"Integer"}}}},"src":"class LM75{\r\n  constructor(){\r\n    setTimeout(this.Tick.bind(this), 500*(1+Math.random()));\r\n  }\r\n  Tick(){\r\n    var addr=this.GetField(null, \"TWI.addr\");\r\n    this.TwiReq([0x48|addr, 0x03, 0x01, 0x02, 0]).then(\r\n      r =&gt; {\r\n        this.SetState(null,1);\r\n        let t = r[4]*256 + r[5];\r\n        t = (t&amp;0x7FFF) - (t&amp;0x8000);\r\n        this.SetState(\"T\", t/256);\r\n        setTimeout(this.Tick.bind(this), 60000);\r\n      },\r\n      error =&gt; {\r\n        this.SetState(null,0);\r\n        setTimeout(this.Tick.bind(this), 60000*(1+Math.random()));\r\n      }\r\n    );\r\n  }\r\n}"}' m='{"attr":69,"type":"Ext/TwiDev"}' ver='0.4.1711.19004' />
      </i>
    </i>
  </i>
</xst>